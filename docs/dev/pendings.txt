10/10 - ACTUALIZADO
üìã PENDIENTES üîÑ (2/17 restantes):

üö® CR√çTICO: Mejoras en estabilidad WSL2-VSCode ‚è≥
PROBLEMA: Desconexiones frecuentes de Copilot/VSCode con WSL2 interrumpen procesos de desarrollo
IMPACTO: Alto - P√©rdida de contexto y trabajo en progreso
SOLUCIONES A IMPLEMENTAR:
- Monitoreo autom√°tico de conexi√≥n WSL2-VSCode
- Scripts de reconexi√≥n autom√°tica
- Backup autom√°tico de estado de trabajo cada X minutos
- Configuraci√≥n de timeouts m√°s robustos
- Implementar herramientas de debugging de conexi√≥n WSL
- Considerar migraci√≥n a desarrollo nativo Linux si persiste
URGENCIA: Alta - Afecta directamente la productividad del desarrollo

8. Pantalla de configuraci√≥n ‚úÖ
Trigger: Al darle tap al engranaje (‚öôÔ∏è) del modal de emojis
Funcionalidades implementadas:
‚úÖ Cambiar su nombre (usuario) - Campo editable con bot√≥n guardar
‚úÖ Cambiar el nombre del C√≠rculo (cualquier miembro puede hacerlo) - Campo editable con bot√≥n guardar  
‚úÖ Salir del c√≠rculo - Bot√≥n con confirmaci√≥n y navegaci√≥n
‚úÖ Dise√±o dark theme consistente con cards seccionales
‚úÖ Navegaci√≥n desde ‚öôÔ∏è del modal de estados
‚úÖ Feedback h√°ptico y visual con SnackBars
‚úÖ Integraci√≥n directa con Firebase Auth y Firestore
‚úÖ CR√çTICO: Email protegido (solo lectura), nickname editable
‚úÖ CR√çTICO: Cancelaci√≥n de notificaciones al salir del c√≠rculo

9. Indicador de app ‚úÖ
‚úÖ Implementado: Badge rojo en √≠cono de app cuando hay cambios de estado
‚úÖ Comportamiento: Similar al indicador de WhatsApp (sin mostrar cantidad)
‚úÖ Detecci√≥n autom√°tica: Listener de cambios de estado en c√≠rculo
‚úÖ Auto-limpieza: Badge se quita cuando usuario ve la app
‚úÖ Integraci√≥n: AppBadgeService + StatusService + lifecycle management
‚úÖ Dependencia: app_badge_plus package para compatibilidad multiplataforma

10. Men√∫ de 3 puntos actualizado ‚úÖ
‚úÖ Cambiar el men√∫ actual por:
  - Cerrar Sesi√≥n (primer lugar)
  - Configuraci√≥n (navega a pantalla de configuraci√≥n)
  - Salir del C√≠rculo (√∫ltimo lugar)
‚úÖ Navegaci√≥n funcional a SettingsPage desde men√∫
‚úÖ √çconos y colores apropiados para cada opci√≥n

11. No todos los emojis del modal est√°n mapeados correctamente para ser guardados en Firestore ‚úÖ
‚úÖ Corregido mapeo din√°mico usando StatusType.values completo
‚úÖ Eliminado switch/case hardcodeado de 6 estados por lookup din√°mico
‚úÖ Todos los 16 StatusType emojis ahora se mapean correctamente
‚úÖ Fix cr√≠tico: "traveling" ahora se guarda como "traveling", no "fine"
IMPLEMENTACI√ìN: Reemplazado hardcoded emoji mapping con StatusType enum completo

12. No es necesario que al actualizar un estado se refleje inmediatamente en la notificaci√≥n persistente ‚úÖ
‚úÖ Notificaci√≥n persistente ahora es est√°tica (no se actualiza autom√°ticamente)
‚úÖ Solo se muestra la notificaci√≥n inicial al entrar al c√≠rculo
‚úÖ Comportamiento silencioso implementado seg√∫n Point 15
IMPLEMENTACI√ìN: StatusService._updatePersistentNotification() deshabilitado

13. No es necesario que al actualizar un estado se muestre el SnackBar de confirmaci√≥n ‚úÖ
‚úÖ SnackBars eliminados del StatusSelectorOverlay
‚úÖ Reemplazados por feedback h√°ptico √∫nicamente (HapticFeedback)
‚úÖ Comportamiento completamente silencioso
IMPLEMENTACI√ìN: _showSuccessFeedback() y _showErrorFeedback() solo usan logs + haptic

14. Quick Actions ‚úÖ CORREGIDO
‚úÖ Implementado sistema de Quick Actions personalizable por usuario
‚úÖ Usuario puede seleccionar sus 4 emojis favoritos de los 13 disponibles
‚úÖ Nuevo QuickActionsPreferencesService para persistencia
‚úÖ Nueva QuickActionsConfigWidget integrada en Settings
‚úÖ Soporte completo para todos los StatusType emojis (limitado a 4 por OS)
‚úÖ FIXED: Grid inconsistencias - Sincronizado con StatusSelectorOverlay
‚úÖ FIXED: Eliminados elementos duplicados/heredados (fine, ready, leave, etc.)
‚úÖ FIXED: Overflow RenderFlex - Layout optimizado con spacing reducido
‚úÖ FIXED: Solo 13 elementos consistentes en ambos grids (config + modal)
IMPLEMENTACI√ìN: Sistema completo corregido + grids sincronizados
 
15. Hacer de la funcionalidad un comportamineto muy silencioso: ‚úÖ CORREGIDO
‚úÖ No hacer eco con la barra de Notificaciones (solo la inicial al entrar al c√≠rculo)
‚úÖ No abrir la app si se abre el modal desde la notificaci√≥n
‚úÖ Eliminados SnackBars del StatusSelectorOverlay (solo haptic feedback)
‚úÖ Notificaci√≥n persistente ahora es est√°tica (no se actualiza con cambios)
‚úÖ Nueva StatusModalActivity transparente evita abrir app completa
‚úÖ StatusModalService para comunicaci√≥n Flutter-Android
‚úÖ FIXED: UI refresh despu√©s de cambios desde modales externos
‚úÖ FIXED: Sincronizaci√≥n Firebase ‚Üî UI via StatusService._notifyUIRefresh()
‚úÖ FIXED: Cambios desde notificaciones/Quick Actions ahora actualizan UI
IMPLEMENTACI√ìN: StatusService._updatePersistentNotification() deshabilitado + UI refresh mechanism

16. Cuando se env√≠a el estado SOS se debe enviar, adem√°s, del emoji de estado, la posici√≥n del usuario ‚úÖ
v√≠a el GPS para que los dem√°s miembros del c√≠rculo puedan verla y haciendo clic en ella abrir un 
Google Maps asociado a la misma
‚úÖ Implementado GPSService con captura autom√°tica de ubicaci√≥n para estados SOS
‚úÖ StatusService actualizado para incluir coordenadas GPS en estados SOS  
‚úÖ InCircleView con indicador GPS rojo y card especial para SOS con ubicaci√≥n
‚úÖ Integraci√≥n con Google Maps - toque abre ubicaci√≥n exacta
‚úÖ Feedback especial en EmojiModal para SOS con/sin GPS
‚úÖ Permisos de ubicaci√≥n agregados en AndroidManifest
‚úÖ Fallback graceful si GPS no est√° disponible
‚úÖ Timeout de 10s optimizado para emergencias
‚úÖ url_launcher agregado para apertura de Google Maps

17. El FAB (Floating Action Button) que permite enviar el estado "available" (üü¢) sin abrir
 el modal, se sobrepone a la lista de miembros del c√≠rculo y no permite verlos todos ‚úÖ
- Evaluar crear un widget para la lista de miembros y colocar debajo el FAB (quiz√°s en un footer)

18. üö® CR√çTICO: Minimizaci√≥n de la app
Cuando la app se minimiza y se quiere volver a utilizarla ocurre el siguiente comportamiento errado:
- la pantalla se pone totalmente negra
- se cierra de manera autom√°tica la sesi√≥n del usuario
- se abre en la pantalla de Login/Registro

19. üö® CR√çTICO: Estabilidad WSL2-VSCode ‚è≥
PROBLEMA: Desconexiones frecuentes de Copilot/extensiones con WSL2 interrumpen desarrollo
S√çNTOMAS: 
- P√©rdida de contexto de Copilot a mitad de implementaciones
- Desconexi√≥n inesperada de extensiones Flutter/Dart
- Necesidad de restart constante de VSCode
IMPACTO: Alto - P√©rdida de productividad y trabajo en progreso
SOLUCIONES A EVALUAR:
‚úÖ Implementar scripts de auto-backup de estado cada 5 mins
‚úÖ Configurar watchdog de conexi√≥n WSL2
‚úÖ Mejorar configuraci√≥n de timeouts y memory allocation
‚úÖ Crear workflow de recovery post-desconexi√≥n
‚úÖ Documentar pasos de debugging para futuras ocurrencias
URGENCIA: M√°xima - Bloquea desarrollo eficiente

20. üîß Toolset de Scripts WSL2-Android Connection ‚è≥
PROBLEMA: Conexi√≥n de dispositivos Android a WSL2 para desarrollo Flutter es fr√°gil
CONTEXTO: Windows 11 24H2 cambi√≥ sintaxis usbipd y comportamiento de firewall
NECESIDAD: Toolset robusto de scripts para diagn√≥stico y soluci√≥n r√°pida
COMPONENTES REQUERIDOS:
üìã Script de diagn√≥stico completo:
  - Verificar versi√≥n de Windows 11 y actualizaciones
  - Detectar sintaxis correcta de usbipd (nueva vs legacy)
  - Validar reglas de firewall para puerto TCP 3240
  - Comprobar estado de servicio usbipd
  - Listar dispositivos conectados y su BUSID
  - Test de conectividad WSL ‚Üî Windows (puerto 3240)
  - Verificar perfiles de red (Public/Private/Domain)

üîß Script de reparaci√≥n autom√°tica:
  - Auto-detecci√≥n de sintaxis usbipd correcta
  - Creaci√≥n autom√°tica de reglas firewall necesarias
  - Reinicio de servicios usbipd cuando sea necesario
  - Alternativa: Setup autom√°tico de ADB over Wi-Fi
  - Rollback de cambios si algo falla

üìö Documentaci√≥n de troubleshooting:
  - Gu√≠a de errores comunes y soluciones
  - Changelog de breaking changes de usbipd
  - Procedimientos para actualizaciones de Windows 11
  - Configuraci√≥n de antivirus de terceros
  - Alternativas (ADB Wi-Fi, scrcpy, vysor)

‚úÖ RESUELTO EN ESTA SESI√ìN:
  - Identificado breaking change: `usbipd wsl attach` ‚Üí `usbipd attach --wsl`
  - Creado fix_usbipd_firewall.ps1 (script PowerShell completo)
  - Creado FIX_USBIPD_FIREWALL_GUIDE.md (gu√≠a de troubleshooting)
  - Conexi√≥n funcionando correctamente con nueva sintaxis

üîÑ PENDIENTE:
  - Crear script de diagn√≥stico r√°pido (check-android-connection.ps1)
  - Actualizar conectar_android.ps1 con sintaxis nueva y fallbacks
  - Agregar detecci√≥n autom√°tica de versi√≥n usbipd
  - Documentar procedimiento de ADB over Wi-Fi como alternativa
  - Crear script de limpieza de reglas firewall obsoletas

PRIORIDAD: Media-Alta - Herramienta de productividad esencial
IMPACTO: Reduce tiempo de debugging de conectividad de horas a minutos
ARCHIVOS CREADOS:
  - fix_usbipd_firewall.ps1 (resoluci√≥n de firewall)
  - FIX_USBIPD_FIREWALL_GUIDE.md (documentaci√≥n completa)

Revisar cu√°les ser√°n finalmente los archivos que se necesitar√≠an obligatoriamente
en caso de problemas, borrar el resto que no se utilizaran


---

04/10
IMPLEMENTADAS ‚úÖ:
‚úÖ quita el FAB de la pantalla de Login, ya no es necesario
‚úÖ coloca el modal que aparece desde la notificaci√≥n en tema oscuro transparente
‚úÖ guarda concordancia entre los modales siguientes: el que abre desde la app y el que se abre desde las Notificaciones. Los dos deben de tener los mismos √≠conos en sus mismas ubicaciones y en el tema oscuro transparente
‚úÖ utiliza la siguiente distribuci√≥n para el grid de 3x4 de emojis del modal:

// Fila 1: Estados de disponibilidad b√°sica
available(üü¢), busy(üî¥), away(üü°), focus(üéØ)

// Fila 2: Estados emocionales/f√≠sicos
happy(üòä), tired(üò¥), stressed(üò∞), sad(üò¢)

// Fila 3: Estados de actividad/ubicaci√≥n
traveling(‚úàÔ∏è), meeting(üë•), studying(üìö), eating(üçΩÔ∏è)

// Fila 4: Configuraci√≥n y ayuda
settings(‚öôÔ∏è), [empty], [empty], sos(üÜò)

‚úÖ CR√çTICO: arreglar que al abrir la app luego de haber estado minimizada un rato, el usuario aparece como que cerr√≥ la sesi√≥n y tiene que volver a autenticarse, sin embargo sigue apareciendo la notificaci√≥n cuando debi√≥ cerrarse junto con la sesi√≥n del usuario. Se genera un estado inconsistente que no debe ocurrir.
‚úÖ Dentro de la pantalla del c√≠rculo y sus miembros colocar un FAB para permitir un env√≠o r√°pido del estado "available" (üü¢) sin necesidad de abrir el modal. El bot√≥n debe tener el mismo estilo que los botones del Login/Registro

PENDIENTES üîÑ:
üîÑ al darle tap al engranaje debe enviarnos a una pantalla de configuraci√≥n del usuario (a√∫n no disponible) que permita lo siguiente:
  - cambiar su nombre
  - cambiar el nombre del C√≠rculo (cualquier miembro puede hacerlo)
  - salir del c√≠rculo

üîÑ en el √≠cono de la app cada vez que haya un cambio de estado, deber√° de aparece un indicador (c√≠rculo peque√±o en rojo) sobre el mismo. Similar a como aparece en el WhatsApp. No es necesario que en el indicador se muestre cu√°ntos cambiaron su estado, porque no tiene sentido, sino √∫nicamente indicarle al usuario que hubo un cambio de estado de alg√∫n miembro del C√≠rculo

üîÑ cambiar el men√∫ de los 3 puntos:
    - Configuraci√≥n (que es la pantalla referenciada desde el modal de emojis)
    - Cerrar sesi√≥n

>>>>>>>>
## Estados de Disponibilidad (Palabras Representativas):

1. **available** - libre, disponible, listo para cualquier cosa
2. **busy** - ocupado (meeting, work, lunch, studying, etc.)
3. **away** - ausente, no est√°, fuera de la oficina/casa
4. **break** - en descanso, pausa, coffee break
5. **focus** - concentrado, no molestar, modo deep work
6. **offline** - desconectado, no disponible digitalmente
7. **traveling** - en movimiento, commuting, en ruta
8. **meeting** - en reuni√≥n, junta, call (si quieres ser m√°s espec√≠fico)
9. **urgent** - necesito ayuda, emergencia, contactar ASAP
10. **flexible** - semi-disponible, puede interrumpirse si es importante

Cada palabra funciona como un **paraguas** que cubre m√∫ltiples actividades espec√≠ficas, manteniendo tu grid simple pero funcional.


-------------------------------------------------
28/09
Los 4 casos est√°n cubiertos correctamente:

‚úÖ CASO 1: Email v√°lido + usuario existe ‚Üí sendPasswordResetEmail() funciona ‚Üí SnackBar verde
‚úÖ CASO 2: Email v√°lido + usuario NO existe ‚Üí Captura user-not-found ‚Üí SnackBar rojo
‚úÖ CASO 3: Email inv√°lido ‚Üí Validaci√≥n previa + captura invalid-email ‚Üí SnackBar rojo
‚úÖ CASO 4: Problemas de red ‚Üí Captura network-request-failed y errores generales ‚Üí SnackBar rojo

-------------------------------------------------

PROMPT PARA CONTINUAR SESI√ìN SIGUIENTE
CONTEXTO INMEDIATO - PROBLEMA ACTIVO: Estamos trabajando en solucionar el FAB (FloatingActionButton) que se sobrepone a la lista de miembros en la vista del c√≠rculo. El problema persiste a pesar del fix de padding implementado.

ESTADO ACTUAL:

Archivo afectado: in_circle_view.dart
FAB ubicado en: home_page.dart (posici√≥n: FloatingActionButtonLocation.centerFloat)
Fix intentado: Cambio de padding de EdgeInsets.all(24.0) a EdgeInsets.fromLTRB(24.0, 24.0, 24.0, 100.0) en el SingleChildScrollView - NO funcion√≥
PROGRESO COMPLETADO EN ESTA SESI√ìN:

‚úÖ Point 16 SOS GPS: Completamente funcional - captura GPS, muestra ubicaci√≥n, abre Google Maps
‚úÖ Emoji corrupto fix: Corregido StatusType.fine="üòä" y StatusType.leave="üö∂‚Äç‚ôÇÔ∏è"
‚úÖ Scroll en lista de miembros: Implementado pero FAB sigue tapando contenido
üîÑ FAB overlap: Padding no resolvi√≥ el problema - necesita soluci√≥n alternativa
PR√ìXIMOS PASOS SUGERIDOS:

Evaluar cambio de posici√≥n del FAB: De centerFloat a endFloat o endTop
Considerar Scaffold con bottomNavigationBar: Para evitar superposici√≥n
Implementar Column con Expanded: Reestructurar layout para separar FAB del scroll
Usar SafeArea con margin din√°mico: Calcular altura del FAB + padding
ARCHIVOS CLAVE PARA LA SESI√ìN:

in_circle_view.dart (lista de miembros)
home_page.dart (FAB + Scaffold)
user_status.dart (StatusType enum corregido)
COMANDO PARA VERIFICAR ESTADO:

RAMA ACTUAL: 
feature/point16-sos-gps

COMPORTAMIENTO ESPERADO: 
Colocar un Scroll en la lista de miembros del C√≠rculo.
El FAB debe permitir scroll completo de la lista sin tapar el √∫ltimo miembro. 
El Usuario debe poder ver todos los miembros del c√≠rculo sin interferencia del bot√≥n flotante.
Verificar la funcionalidad completa del Point 16 SOS GPS:
La app captura GPS, muestra ubicaci√≥n y permite: copiar las coordenadas o abrir Google Maps

